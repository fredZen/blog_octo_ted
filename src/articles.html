<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
      .box {
        background-color:#9BA;
        display:inline-block;
        margin:5px 5px 0 0;
        height:100px;
        position:relative;
        vertical-align:top;
        font-family:sans-serif;
        width: auto;
        text-align: left;
      }
      a {
        text-decoration:none;
        color:#821;
        position: relative;
        z-index: 2;
      }
      a.title {
        width:100%;
        height:100%;
        top:0px;
        left:0px;
        z-index: 1;
      }
      a.title p{
        padding:1px;
      }
      .p3 {
        width:235px;
      }
      .p2 {
        width:155px;
      }
      .video {
        background-color:#0AD;
      }
      .supports {
        background-color:#FB3;
      }
      .video.supports {
        background-color: #6A4;
      }
      .audio {
        background-color:#07A;
      }
      .title{
        color:white;
        font-size:9pt;
        font-weight:bold;
        position:absolute;
        top:1px;
        left:1px;
      }
      .meta {
        color:black;
        position:absolute;
        bottom:10pt;
        right:1px;
        text-align:right;
        font-size:7pt;
      }
      .type {
        color:white;
        position:absolute;
        left:1px;
        bottom:1px;
        font-size:9pt;
      }
    </style>
  </head>
  <body>
    <#list categories as category>
      <#assign w=0>
      <h2>${category}</h2>
      <#list sessions[category] as row><#t>
        <#assign rowWidth=row["Largeur"]?number>
        <#assign w=w+rowWidth><#t>
        <#if (w>6) ><#t>
          <#assign w=rowWidth><#t>
          <br/><#t>
        </#if><#t>
        <#assign has_vid=row["Video"]?has_content><#t>
        <#assign has_slides=row["Supports"]?has_content><#t>
        <#assign has_podcast=row["Podcast"]?has_content><#t>
        <span class='box p${(row["Largeur"])}<#if has_vid> video</#if><#if has_slides> supports</#if><#if has_podcast> audio</#if>'><#t>
          <#assign title=row["Titre"]?replace("'", "&rsquo;")><#t>
          <#if has_vid><a href='${row["Video"]}' class='title'><#t>
          <#elseif has_podcast><a href='${row["Podcast"]}' class='title'><#t>
          <#elseif has_slides><a href='${row["Supports"]}' class='title'><#t>
          </#if><#t>
          <span class='title'>${title}</span><#t>
          <#if has_vid || has_slides || has_podcast></a></#if><#t>
          <span class='meta'><#list row["Auteurs"] as auteur><#t>
              ${auteur?replace(" ", "&nbsp;")}<#t>
              <#assign twit=twitter[auteur?lower_case]!><#t>
              <#if twit?has_content >&nbsp;(<a href='https://twitter.com/${twit}'>@${twit}</a>)</#if><#t>
              <#if auteur_has_next>, </#if><#t>
            </#list><#t>
            <br/><#t>
            ${(row["Evenement"])}<#t>
          </span><#t>
          <#if has_vid && has_slides><span class='type'>vidéo<a href='${row["Supports"]}'> + supports</a></span><#t>
          <#elseif has_vid><span class='type'>vidéo</span><#t>
          <#elseif has_podcast><span class='type'>podcast</span><#t>
          <#elseif has_slides><span class='type'>supports</span><#t>
          </#if>
        </span><#t>
      </#list><#t>
    </#list>
  </body>
</html>
